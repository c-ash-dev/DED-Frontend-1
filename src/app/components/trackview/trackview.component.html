<ded-pagetitle navLink="/track" pageTitle="{{ this.workout.name }}"></ded-pagetitle>

<igx-card class="ded-card">
  <div>
    <strong>Description: </strong>
    {{ this.workout.description }}
  </div>
  <div *ngIf="this.workout.note">
    <strong>Notes: </strong>
    {{ this.workout.note }}
  </div>
  <div>
    <strong>Completed: </strong> 
    {{ workout.completed_time.toLocaleDateString() + ' ' + workout.completed_time.toLocaleTimeString() }}
  </div>

  <hr />

  <igx-card class="exercise-card" *ngFor="let exercise of this.workout.exercises; let i = index">
    <igx-expansion-panel class="exercise-panel" [collapsed]="true">

      <!-- Excercise header -->
      <igx-expansion-panel-header class="exercise-panel-header">
        <div class="einfo--container">
          <h5 class="einfo einfo__name">{{ exercise.name }}</h5>
          <igx-divider [vertical]="true"></igx-divider>
          <div class="einfo einfo__type">{{ exercise.exercise_type }}</div>
          <igx-divider [vertical]="true"></igx-divider>
          <div class="einfo einfo__description">{{ exercise.description }}</div>
          <igx-divider [vertical]="true"></igx-divider>
          <div class="einfo einfo__completed">{{ exercise.completed_time.toLocaleTimeString() }}</div>
        </div>
      </igx-expansion-panel-header>
  
      <igx-expansion-panel-body class="exercise-panel-body">
        <!-- Exercise Notes -->
        <div class="exercise-notes" *ngIf="exercise.note">
          <strong>Notes: </strong>
          {{ exercise.note }}
        </div>

        <div class="table-responsive" *ngIf="exercise.sets.length > 0">
          <table class="table">
            <thead>
              <tr>
                <th width="1.5em">#</th>
                <th>Type</th>
                <th>Description</th>
                <th>Goal</th>
                <th>Completed</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let set of exercise.sets; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ set.type }}</td>
                <td>{{ set.description }}</td>
                <td>{{ set.goal_reps + ' x ' + set.goal_value + ' ' + set.units }}</td>
                <td>{{ set.reps + ' x ' + set.value + ' ' + set.units }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </igx-expansion-panel-body>
    </igx-expansion-panel>
  </igx-card>
</igx-card>
